<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Rozvrh 4.g SSPVC</title>
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(120deg, #e0eafc 0%, #cfdef3 100%);
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    <table id="rozvrh">
      <thead>
        <tr>
          <th>Den</th>
          <th>Hodina</th>
          <th>Předmět</th>
          <th>Učitel</th>
          <th>Místnost</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <script>
      async function nactiRozvrh() {
        // Změň URL na svou Vercel doménu pokud je potřeba
        const url = '/api/rozvrh';
        try {
          const resp = await fetch(url);
          const data = await resp.json();
          const tbody = document.querySelector('#rozvrh tbody');
          tbody.innerHTML = '';
          if (!data.rozvrh || data.rozvrh.length === 0) {
            tbody.innerHTML = `<tr><td colspan="5">Žádné hodiny</td></tr>`;
          } else {
            data.rozvrh.forEach(hodina => {
              const tr = document.createElement('tr');
              tr.innerHTML = `
                <td>${hodina.den}</td>
                <td>${hodina.hodina}</td>
                <td>${hodina.predmet}</td>
                <td>${hodina.ucitel}</td>
                <td>${hodina.mistnost}</td>
              `;
              tbody.appendChild(tr);
            });
          }
        } catch (e) {
          const err = document.getElementById('error');
          if (err) {
            err.textContent = 'Chyba spojení se serverem';
            err.style.display = 'block';
          }
        }
      }
      document.addEventListener('DOMContentLoaded', nactiRozvrh);
    </script>
            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${tds[0].textContent.trim()}</td>
              <td>${tds[1].textContent.trim()}</td>
              <td>${tds[2].textContent.trim()}</td>
              <td>${tds[3].textContent.trim()}</td>
              <td>${tds[4].textContent.trim()}</td>
            `;
            tbody.appendChild(row);
          }
        });
      } catch (e) {
        document.getElementById('error').textContent = 'Chyba načítání rozvrhu.';
        document.getElementById('error').style.display = 'block';
      }
    }
    nactiRozvrh();
  </script>
</body>
</html>
